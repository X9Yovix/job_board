{% extends 'base.html.twig' %}

{% block title %}Sign Up
{% endblock %}

{% block body %}
<!-- Navbar Area Start -->
<div class="navbar-area">
	<!-- Menu For Mobile Device -->
	<div class="mobile-nav">
		<a href="index.html" class="logo">
			<img src="{{asset('img/logo.png')}}" alt="logo" width="45px">
		</a>
	</div>

	<!-- Menu For Desktop Device -->
	<div class="main-nav">
		<div class="container">
			<nav class="navbar navbar-expand-lg navbar-light">
				<a class="navbar-brand" href="{{path('app_index')}}">
					<img src="{{asset('img/logo.png')}}" alt="logo" width="45px">
				</a>
				<div class="collapse navbar-collapse mean-menu" id="navbarSupportedContent">
					<ul class="navbar-nav m-auto">
						<li class="nav-item">
							<a href="#" class="nav-link active">Home</a>
						</li>
						<li class="nav-item">
							<a href="#" class="nav-link">Jobs</a>
						</li>
						<li class="nav-item">
							<a href="#" class="nav-link">Catagories</a>
						</li>
						<li class="nav-item">
							<a href="#" class="nav-link">About</a>
						</li>
						<li class="nav-item">
							<a href="#" class="nav-link">Contact Us</a>
						</li>
					</ul>

					<div class="other-option">
						<a href="{{path('app_register')}}" class="signup-btn">Sign Up</a>
						<a href="{{path('app_login')}}" class="signin-btn">Sign In</a>
					</div>
				</div>
			</nav>
		</div>
	</div>
</div>
<!-- Navbar Area End -->

<!-- Page Title Start -->
<section class="page-title title-bg13">
	<div class="d-table">
		<div class="d-table-cell">
			<ul>
				<li>
					<h2>Sign Up</h2>
				</li>
			</ul>
		</div>
	</div>
	<div class="lines">
		<div class="line"></div>
		<div class="line"></div>
		<div class="line"></div>
	</div>
</section>
<!-- Page Title End -->

{% if app.user %}
<div class="mb-3">
	You are logged in as
	{{ app.user.userIdentifier }},
	<a href="{{ path('app_logout') }}">Logout</a>
</div>
{% endif %}


<!-- Sign up Section Start -->
<div class="job-post ptb-100">
	<div class="container">
		<form class="job-post-from signup-form" name="registration_form" method="post">
			<h2>Fill up information to Sign Up</h2>
			<div class="create-btn text-center mb-5">
				<p>
					Have an Account?
					<a href="{{path('app_login')}}">
						Sign In
						<i class='bx bx-chevrons-right bx-fade-right'></i>
					</a>
				</p>
			</div>
			{% if errors %}
			<h3>You must fix the following errors to sign up</h3>
			<ul>
				{% for error in errors %}
				<li>{{ error.message }}</li>
				{% endfor %}
			</ul>
			{% endif %}
			<div class="row">
				<div class="col-md-6">
					<div class="form-group">
						<label>First Name</label>
						<input type="text" class="form-control" id="firstName" name="firstName">

					</div>
				</div>

				<div class="col-md-6">
					<div class="form-group">
						<label>Last Name</label>
						<input type="text" class="form-control" id="lastName" name="lastName">
					</div>
				</div>

				<div class="col-md-6">
					<div class="form-group">
						<label>Email</label>
						<input type="email" class="form-control" id="email" name="email">
					</div>
				</div>

				<div class="col-md-6">
					<div class="form-group">
						<label>Password</label>
						<input type="password" class="form-control" id="plainPassword" name="plainPassword"
							autocomplete="new-password">
					</div>
				</div>

				<div class="col-md-6">
					<div class="form-group">
						<label>Birthday</label>
						<input type="date" class="form-control" id="birthday" name="birthday">
					</div>
				</div>

				<div class="col-md-6">
					<div class="form-group">
						<label>Country</label>
						<select name="country" class="category nice-select form-control" id="countrySelect">
							<option selected></option>
							{% for country in countries %}
							<option value="{{ country.id }}">{{ country.name }}</option>
							{% endfor %}
						</select>
					</div>
				</div>

				<div class="col-md-6" id="stateContainer">
					<div class="form-group">
						<label>State</label>
						<select class="category nice-select form-control" name="state" id="stateSelect">
							<option data-display=" "></option>
						</select>
					</div>
				</div>

				<div class="col-md-6" id="cityContainer">
					<div class="form-group">
						<label>City</label>
						<select class="category nice-select form-control" name="city" id="citySelect">
							<option data-display=" "></option>
						</select>
					</div>
				</div>


				<div class="col-md-12 mt-4">
					<div class="form-group text-center">
						<label>Phone Number</label>
						<div class="input-group m-auto w-50">
							<div class="input-group-prepend">
								<span class="input-group-text" id="countryEmoji" style="height: 50px;">ðŸ›¸</span>
							</div>
							<input type="text" class="form-control" id="phoneNumber" name="phoneNumber">
							<input type="hidden" id="phoneCodeInput" name="phoneCode">
						</div>
					</div>
				</div>


				<div class="col-md-12">
					<div class="form-group d-flex align-items-center justify-content-center">
						<label class="mr-3">Gender</label>
						<div class="form-check form-check-inline">
							<input class="form-check-input mx-2" type="radio" name="gender" id="gender_male"
								value="male" checked>
							<label class="form-check-label" for="gender_male" checked>Male</label>
						</div>
						<div class="form-check form-check-inline">
							<input class="form-check-input" type="radio" name="gender" id="gender_female"
								value="female">
							<label class="form-check-label" for="gender_female">Female</label>
						</div>
					</div>
				</div>

			</div>

			<div class="col-md-12 text-center">
				<button type="submit" class="post-btn">
					Sign Up
				</button>
			</div>
	</div>
	</form>
</div>
</div>
<!-- Sign up Section End -->


<!-- Footer Section Start -->
<footer class="footer-area pt-100 pb-70">
	<div class="container">
		<div class="row">
			<div class="col-lg-3 col-sm-6">
				<div class="footer-widget">
					<div class="footer-logo">
						<a href="index.html">
							<img src="{{asset('img/logo.png')}}" alt="logo" width="100px">
						</a>
					</div>

					<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed eiusmod tempor incididunt ut labore
						et dolore magna. Sed eiusmod tempor incididunt ut.</p>

					<div class="footer-social">
						<a href="#" target="_blank">
							<i class='bx bxl-facebook'></i>
						</a>
						<a href="#" target="_blank">
							<i class='bx bxl-twitter'></i>
						</a>
						<a href="#" target="_blank">
							<i class='bx bxl-pinterest-alt'></i>
						</a>
						<a href="#" target="_blank">
							<i class='bx bxl-linkedin'></i>
						</a>
					</div>
				</div>
			</div>
			<div class="col-lg-3 col-sm-6">
				<div class="footer-widget pl-60">
					<h3>For Candidate</h3>
					<ul>
						<li><a href="#"><i class='bx bx-chevrons-right bx-tada'></i>Browse Jobs</a></li>
						<li><a href="#"><i class='bx bx-chevrons-right bx-tada'></i>Account</a></li>
						<li><a href="#"><i class='bx bx-chevrons-right bx-tada'></i>Browse Categories</a></li>
						<li><a href="#"><i class='bx bx-chevrons-right bx-tada'></i>Resume</a></li>
						<li><a href="#"><i class='bx bx-chevrons-right bx-tada'></i>Job List</a></li>
						<li><a href="#"><i class='bx bx-chevrons-right bx-tada'></i>Sign Up</a></li>
					</ul>
				</div>
			</div>
			<div class="col-lg-3 col-sm-6">
				<div class="footer-widget pl-60">
					<h3>Quick Links</h3>
					<ul>
						<li><a href="#"><i class='bx bx-chevrons-right bx-tada'></i>Home</a></li>
						<li><a href="#"><i class='bx bx-chevrons-right bx-tada'></i>About</a></li>
						<li><a href="#"><i class='bx bx-chevrons-right bx-tada'></i>FAQ</a></li>
						<li><a href="#"><i class='bx bx-chevrons-right bx-tada'></i>Pricing</a></li>
						<li><a href="#"><i class='bx bx-chevrons-right bx-tada'></i>Privacy</a></li>
						<li><a href="#"><i class='bx bx-chevrons-right bx-tada'></i>Contact</a></li>
					</ul>
				</div>
			</div>
			<div class="col-lg-3 col-sm-6">
				<div class="footer-widget footer-info">
					<h3>Information</h3>
					<ul>
						<li>
							<span>
								<i class='bx bxs-phone'></i>
								Phone:
							</span>
							<a href="tel:882569756">
								+123 456 678
							</a>
						</li>

						<li>
							<span>
								<i class='bx bxs-envelope'></i>
								Email:
							</span>
							<a href="mailto:info@jovie.com">
								info@tekup-job-board.com
							</a>
						</li>

						<li>
							<span>
								<i class='bx bx-location-plus'></i>
								Address:
							</span>
							123, Rades, Tunis
						</li>
					</ul>
				</div>
			</div>
		</div>
	</div>
</footer>
<div class="copyright-text text-center">
	<p>Copyright &copy;{{ "now"|date('Y') }}{{ app_name }}</p>
</div>
<!-- Footer Section End -->
{% endblock %}

{% block javascripts %}
<script>

	$(document).ready(function () {
		//$('#phoneNumber').prop('disabled', true);
		/*
		$('#countrySelect').select2();
		$('#countrySelect').next('.nice-select').find('ul.list').select2();

		$('#countrySelect').select2();
		$('#stateSelect').select2();
		$('#citySelect').select2();
		*/

		$('#countrySelect').change(function () {
			var country = $(this).val();
			updatePhoneInfo(country);

			if (country) {
				$.ajax({
					url: '/states/' + country,
					type: 'GET',
					success: function (data) {
						$('#stateSelect').empty();
						$('#stateSelect').append('<option data-display=" "></option>');
						$.each(data, function (index, state) {
							$('#stateSelect').append('<option value="' + state.id + '">' + state.name + '</option>');
						});

						//$('#stateSelect').niceSelect('update');
					}
				});
			}
		});

		$('#stateSelect').change(function () {
			var state = $(this).val();
			if (state) {
				$.ajax({

					url: '/cities/' + state,
					type: 'GET',
					success: function (data) {
						$('#citySelect').empty();
						$('#citySelect').append('<option data-display=" "></option>');
						$.each(data, function (index, city) {
							$('#citySelect').append('<option value="' + city.id + '">' + city.name + '</option>');
						});

						//$('#citySelect').niceSelect('update');
					}
				});
			}
		});

		function updatePhoneInfo(selectedCountryId) {
			$.ajax({
				url: '/country/flag/' + selectedCountryId,
				type: 'GET',
				data: { countryId: selectedCountryId },
				success: function (response) {
					var phoneCode = response.phoneCode;
					var emoji = response.emoji;
					$('#countryEmoji').text(emoji);
					$('#phoneCodeInput').val(phoneCode);

				},
				error: function (error) {
					$('#phoneCodeInput').val("");
					$('#countryEmoji').text("ðŸ›¸");
					$('#phoneNumber').val('');
				}
			});
		}
	});
</script>
{% endblock %}